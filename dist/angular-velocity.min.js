/*! angular-velocity - v0.1.0 - 2015-03-11 */
!function(){"use strict";angular.module("sn.velocity",["sn.velocity.snVelocity","sn.velocity.snVelocityGroup","sn.velocity.snVelocityToggle"]),angular.module("sn.velocity.snVelocityGroup",["sn.velocity.snVelocity"]).directive("snVelocityGroup",["$compile","$rootScope",function(a,b){return{restrict:"E",scope:{keyframes:"=",loop:"="},link:function(c,d){angular.forEach(c.keyframes,function(e,f){var g=angular.element(d[0].querySelector(f)),h=b.$new();h.keyframes=e.keyframes||e,g.attr("sn-velocity",""),g.attr("data-keyframes","keyframes"),e.startDelay&&g.attr("data-start-delay",e.startDelay),c.loop&&g.attr("data-loop",""),a(g)(h)})}}}]),angular.module("sn.velocity.snVelocity",[]).directive("snVelocity",["$window","$timeout",function(a,b){return{restrict:"A",scope:{keyframes:"=",startDelay:"=?"},link:function(c,d,e){var f;c.animate=function(){angular.forEach(c.keyframes,function(b){a.Velocity(d,b.properties,b.options)})},c.init=function(){e.hasOwnProperty("loop")&&(c.keyframes[c.keyframes.length-1].options.complete=c.animate),c.startDelay?(f&&b.cancel(f),f=b(c.animate,c.startDelay)):c.animate()},c.onDestroy=function(){f&&b.cancel(f)},c.$on("$destroy",c.onDestroy),c.init()}}}]),angular.module("sn.velocity.snVelocityToggle",["sn.velocity.snVelocity"]).directive("snVelocityToggle",["$rootScope","$compile","$window",function(a,b,c){return{restrict:"EA",scope:{eventOn:"@",eventOff:"@",active:"=",inactive:"="},link:function(b,d){b.toggleCount=0,b.toggleState=!1,b.animatedElements={get:{},set:function(a){angular.forEach(a,function(a,c){var e=d[0].querySelector(c);b.animatedElements.get[c]=e})}},b.animatedElements.set(b.active),b.animate=function(a){angular.forEach(a,function(a,d){var e=b.animatedElements.get[d];angular.forEach(a,function(a){c.Velocity(e,a.properties,a.options)})})},b.toggle=function(){angular.forEach(b.animatedElements.get,function(a){c.Velocity(a,"stop")}),b.animate(b.toggleState?b.inactive:b.active),b.toggleCount=b.toggleCount+1,b.toggleState=!b.toggleState},b.eventOn===b.eventOff?d.on(b.eventOn,b.toggle):(d.on(b.eventOn,b.toggle),d.on(b.eventOff,b.toggle)),b.onDestroy=function(){d.off(b.eventOn),d.off(b.eventOff)},a.$on("$destroy",b.onDestroy)}}}])}(window);